<%= form_for [@task, @exercises], :html => {:onsubmit => "return validateForm();"} do |f| %>
	<div id="description_field" class="row-fluid">
		<div class="span4"><%= f.text_area :text, placeholder:"Gib hier den Aufgabentext ein...", id:"question", maxlength:"255", style:"width:100%; resize:vertical;" %></div>
		<div class="span7"><%= f.text_area :solution, placeholder:"Gib hier den Lösungstext ein...", id:"solution", maxlength:"255", style:"width:100%; resize:vertical;" %></div>
		<div class="span1"><%= f.number_field :points, placeholder:"Punktzahl", id:"maxpoints", style:"width:100%; height:100%;", onchange:"validatePoints()" %></div>
	</div>
	<div class="row-fluid">
		<div class="span6"><%= f.submit "Lernaufgabe speichern", id:"submit_button", class:"btn btn-xs btn-primary" %></div>
	</div>
<% end %>

<script>

function validateForm(){
	var maxpoints = document.getElementById('maxpoints').value;
	var question = document.getElementById('question').value;
	var solution = document.getElementById('solution').value;
	if (maxpoints == null || maxpoints <= 0 || maxpoints > 100 ){
		alert('Bitte gib eine gültige Punktzahl von 1 bis 100 ein!');
		return false;
	} else if (question == "" || question == null ) {
		alert('Du kannst keine leere Frage eingeben!');
		return false;
	} else if (solution == "" || solution == null ) {
		alert('Du kannst keine leere Lösung eingeben!');
		return false;
	} else{
		return true;
	}
}

</script>
